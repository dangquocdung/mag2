!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=76)}({76:function(e,t,n){e.exports=n(77)},77:function(e,t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"init",value:function(){$("input[data-key=email-config-status-btn]").on("change",function(e){var t=$(e.currentTarget),n=t.prop("id"),o=t.data("change-url");$.ajax({type:"POST",url:o,data:{key:n,value:t.prop("checked")?1:0},success:function(e){e.error?Botble.showNotice("error",e.message):Botble.showNotice("success",e.message)},error:function(e){Botble.handleError(e)}})}),$(document).on("change","#email_driver",function(e){"mailgun"===$(e.currentTarget).val()?($(".setting-mail-password").addClass("hidden"),$(".setting-mail-mail-gun").removeClass("hidden")):($(".setting-mail-password").removeClass("hidden"),$(".setting-mail-mail-gun").addClass("hidden"))}),$("#send-test-email-btn").on("click",function(e){e.preventDefault();var t=$(e.currentTarget);t.addClass("button-loading"),$.ajax({type:"POST",url:route("setting.email.send.test"),data:{email:t.closest(".modal-content").find("input[name=email]").val()},success:function(e){e.error?Botble.showNotice("error",e.message):Botble.showNotice("success",e.message),t.removeClass("button-loading"),t.closest(".modal").modal("hide")},error:function(e){Botble.handleError(e),t.removeClass("button-loading"),t.closest(".modal").modal("hide")}})}),"undefined"!=typeof CodeMirror&&Botble.initCodeEditor("mail-template-editor"),$(document).on("click",".btn-trigger-reset-to-default",function(e){e.preventDefault(),$("#reset-template-to-default-button").data("target",$(e.currentTarget).data("target")),$("#reset-template-to-default-modal").modal("show")}),$(document).on("click","#reset-template-to-default-button",function(e){e.preventDefault();var t=$(e.currentTarget);t.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:t.data("target"),data:{email_subject_key:$("input[name=email_subject_key]").val(),template_path:$("input[name=template_path]").val()},success:function(e){e.error?Botble.showNotice("error",e.message):(Botble.showNotice("success",e.message),setTimeout(function(){window.location.reload()},1e3)),t.removeClass("button-loading"),$("#reset-template-to-default-modal").modal("hide")},error:function(e){Botble.handleError(e),t.removeClass("button-loading")}})})}}]),e}();$(document).ready(function(){(new o).init()})}});